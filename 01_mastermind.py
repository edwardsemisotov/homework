# -*- coding: utf-8 -*-

# –ò–≥—Ä–∞ ¬´–ë—ã–∫–∏ –∏ –∫–æ—Ä–æ–≤—ã¬ª
# https://goo.gl/Go2mb9
#
# –ü—Ä–∞–≤–∏–ª–∞:
# –ö–æ–º–ø—å—é—Ç–µ—Ä –∑–∞–≥–∞–¥—ã–≤–∞–µ—Ç —á–µ—Ç—ã—Ä–µ—Ö–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ, –≤—Å–µ —Ü–∏—Ñ—Ä—ã –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–∞–∑–ª–∏—á–Ω—ã
# (–ø–µ—Ä–≤–∞—è —Ü–∏—Ñ—Ä–∞ —á–∏—Å–ª–∞ –æ—Ç–ª–∏—á–Ω–∞ –æ—Ç –Ω—É–ª—è). –ò–≥—Ä–æ–∫—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞–∑–≥–∞–¥–∞—Ç—å –∑–∞–¥—É–º–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ.
# –ò–≥—Ä–æ–∫ –≤–≤–æ–¥–∏—Ç —á–µ—Ç—ã—Ä–µ—Ö–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ c –Ω–µ–ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º–∏—Å—è —Ü–∏—Ñ—Ä–∞–º–∏,
# –∫–æ–º–ø—å—é—Ç–µ—Ä —Å–æ–æ–±—â–∞—é—Ç –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ ¬´–±—ã–∫–æ–≤¬ª –∏ ¬´–∫–æ—Ä–æ–≤¬ª –≤ –Ω–∞–∑–≤–∞–Ω–Ω–æ–º —á–∏—Å–ª–µ
# ¬´–±—ã–∫¬ª ‚Äî —Ü–∏—Ñ—Ä–∞ –µ—Å—Ç—å –≤ –∑–∞–ø–∏—Å–∏ –∑–∞–¥—É–º–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ –∏ —Å—Ç–æ–∏—Ç –≤ —Ç–æ–π –∂–µ –ø–æ–∑–∏—Ü–∏–∏,
#       —á—Ç–æ –∏ –≤ –∑–∞–¥—É–º–∞–Ω–Ω–æ–º —á–∏—Å–ª–µ
# ¬´–∫–æ—Ä–æ–≤–∞¬ª ‚Äî —Ü–∏—Ñ—Ä–∞ –µ—Å—Ç—å –≤ –∑–∞–ø–∏—Å–∏ –∑–∞–¥—É–º–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞, –Ω–æ –Ω–µ —Å—Ç–æ–∏—Ç –≤ —Ç–æ–π –∂–µ –ø–æ–∑–∏—Ü–∏–∏,
#       —á—Ç–æ –∏ –≤ –∑–∞–¥—É–º–∞–Ω–Ω–æ–º —á–∏—Å–ª–µ
#
# –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –∑–∞–¥—É–º–∞–Ω–æ —á–∏—Å–ª–æ 3275 –∏ –Ω–∞–∑–≤–∞–Ω–æ —á–∏—Å–ª–æ 1234,
# –ø–æ–ª—É—á–∞–µ–º –≤ –Ω–∞–∑–≤–∞–Ω–Ω–æ–º —á–∏—Å–ª–µ –æ–¥–Ω–æ–≥–æ ¬´–±—ã–∫–∞¬ª –∏ –æ–¥–Ω—É ¬´–∫–æ—Ä–æ–≤—É¬ª.
# –û—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ —á–∏—Å–ª–æ –æ—Ç–≥–∞–¥–∞–Ω–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –∏–º–µ–µ–º 4 ¬´–±—ã–∫–∞¬ª.
#
# –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
# > –±—ã–∫–∏ - 1, –∫–æ—Ä–æ–≤—ã - 1


# –°–æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å mastermind_engine, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏–≥—Ä—ã.
# –í mastermind_engine –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏:
#   –∑–∞–≥–∞–¥–∞—Ç—å_—á–∏—Å–ª–æ()
#   –ø—Ä–æ–≤–µ—Ä–∏—Ç—å_—á–∏—Å–ª–æ(NN) - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å {'bulls': N, 'cows': N}
# –ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π.
# –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Å—Ç—Ä–æ–∫–∏ - —ç—Ç–æ —Å–ø–∏—Å–æ–∫ —Å–∏–º–≤–æ–ª–æ–≤.
#
# –í —Ç–µ–∫—É—â–µ–º –º–æ–¥—É–ª–µ (lesson_006/01_mastermind.py) —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:
#   –º–æ–¥—É–ª—å –¥–≤–∏–∂–∫–∞ –∑–∞–≥–∞–¥—ã–≤–∞–µ—Ç —á–∏—Å–ª–æ
#   –≤ —Ü–∏–∫–ª–µ, –ø–æ–∫–∞ —á–∏—Å–ª–æ –Ω–µ –æ—Ç–≥–∞–¥–∞–Ω–æ
#       —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –≤–∞—Ä–∏–∞–Ω—Ç —á–∏—Å–ª–∞
#       –ø—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–ª –¥–æ–ø—É—Å—Ç–∏–º–æ–µ —á–∏—Å–ª–æ (4 —Ü–∏—Ñ—Ä—ã, –≤—Å–µ —Ü–∏—Ñ—Ä—ã —Ä–∞–∑–Ω—ã–µ, –Ω–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 0)
#       –º–æ–¥—É–ª—å –¥–≤–∏–∂–∫–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á–∏—Å–ª–æ –∏ –≤—ã–¥–∞–µ—Ç –±—ã–∫–æ–≤/–∫–æ—Ä–æ–≤
#       —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—ã–∫–æ–≤/–∫–æ—Ä–æ–≤ –≤—ã–≤–æ–¥–∏—Ç—Å—è –Ω–∞ –∫–æ–Ω—Å–æ–ª—å
#  –∫–æ–≥–¥–∞ –∏–≥—Ä–æ–∫ —É–≥–∞–¥–∞–ª —Ç–∞–∫–∏ —á–∏—Å–ª–æ - –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö–æ–¥–æ–≤ –∏ –≤–æ–ø—Ä–æ—Å "–•–æ—Ç–∏—Ç–µ –µ—â–µ –ø–∞—Ä—Ç–∏—é?"
#
# –ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ –∫–æ–¥–∞ —É—á–∏—Ç—ã–≤–∞–π—Ç–µ, —á—Ç–æ –¥–≤–∏–∂–æ–∫ –∏–≥—Ä—ã –Ω–∏–∫–∞–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.
# –í—Å–µ –æ–±—â–µ–Ω–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (–≤—ã–≤–æ–¥ –Ω–∞ –∫–æ–Ω—Å–æ–ª—å –∏ –∑–∞–ø—Ä–æ—Å –≤–≤–æ–¥–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è) –¥–µ–ª–∞—Ç—å –≤ 01_mastermind.py.
# –î–≤–∏–∂–æ–∫ –∏–≥—Ä—ã —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ —Å–∞–º—É —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏–≥—Ä—ã. –†–∞–∑–¥–µ–ª—è–µ–º: mastermind_engine —Ä–∞–±–æ—Ç–∞–µ—Ç
# —Ç–æ–ª—å–∫–æ —Å –∑–∞–≥–∞–¥–∞–Ω–Ω—ã–º —á–∏—Å–ª–æ–º, –∞ 01_mastermind - —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞–µ—Ç —á–∏—Å–ª–∞ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –¥–≤–∏–∂–∫—É.
# –≠—Ç–æ –ø—Ä–∏–º–µ—Ä –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è SOLID –ø—Ä–∏–Ω—Ü–∏–ø–∞ (—Å–º https://goo.gl/GFMoaI) –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø—Ä–æ–≥—Ä–∞–º–º.
# –¢–æ—á–Ω–µ–µ, –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤–∞–∂–µ–Ω –ø—Ä–∏–Ω—Ü–∏–ø –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ - https://goo.gl/rYb3hT

import mastermind_engine as me

bulls = 0
cows = 0
game_duration = 0


def start_game():
    print('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É –ë—ã–∫–∏ –∏ –ö–æ—Ä–æ–≤—ã! –ü—Ä–∞–≤–∏–ª–∞ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –ø–æ —Å—Å—ã–ª–∫–µ https://goo.gl/Go2mb9')
    global game_duration
    game_duration = 0
    me.pick_number()


def check_number(number):
    if not number.isnumeric():
        print('–Ω—É–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ —á–∏—Å–ª–æ')
        return False
    if len(number) != 4:
        print('–º–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ 4 —Ü–∏—Ñ—Ä—ã, –±–æ–ª—å—à–µ –∏–ª–∏ –º–µ–Ω—å—à–µ 4 –≤–≤–æ–¥–∏—Ç—å –Ω–µ–ª—å–∑—è!')
        return False
    if int(number[0]) == 0:
        print('–ø–µ—Ä–≤–∞—è —Ü–∏—Ñ—Ä–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ª—é–±–æ–π –∫—Ä–æ–º–µ 0')
        return False
    if len(set(number)) != 4:
        print('–∑–∞–ø—Ä–µ—â–µ–Ω—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ü–∏—Ñ—Ä—ã')
        return False
    return True


def game_over():
    global game_duration
    print('–ü–æ–∑–¥—Ä–∞–≤–ª—è—é, –≤—ã –≤—ã–∏–≥—Ä–∞–ª–∏!!! –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö–æ–¥–æ–≤ :', game_duration)
    may_be_again = input('–µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –µ—â—ë —Ä–∞–∑, —Ç–æ –≤–≤–µ–¥–∏—Ç–µ –ª—é–±–æ–µ —á–∏—Å–ª–æ')
    if not may_be_again.isnumeric():
        print('–≤—Å–µ–≥–æ –¥–æ–±—Ä–æ–≥–æ')
        exit()
    if may_be_again.isnumeric():
        start_game()


start_game()
while True:
    player_turn = input('–≤–≤–µ–¥–∏—Ç–µ —á–µ—Ç—ã—Ä—ë—Ö–∑–Ω–∞—á–Ω–æ–µ —á–∏—Å–ª–æ :')
    if check_number(player_turn):
        game_duration += 1
        result = me.bulls_and_cows(player_turn)
        print('–±—ã–∫–æ–≤:', result['bulls'], '–∫–æ—Ä–æ–≤:', result['cows'])
        if result['bulls'] == 4:
            game_over()

# –∑–∞—á—ë—Ç! üöÄ
